<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700' rel='stylesheet' type='text/css'>
  <title>DATS 6401 - Final Project - Robert Harris</title>
  <meta name="keywords" content="GWU, Data Science, Data, Visualizations">
  <meta name="description" content="An examination of Gun Violence in the U.S.">
  <link rel="stylesheet" href="temp/styles/styles.css">

 <!--  this is test visualization code remove before flight -->

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current',{'packages':['corechart']});
    google.charts.setOnLoadCallback(drawAllSheets);

    function drawAllSheets() {

      drawSheetName('populationData', 'SELECT A, H',
              popDataResponseHandler);

      drawSheetName('populationData', 'SELECT A, H',
              popDataChartResponseHandler);

      drawSheetName('gdp', 'SELECT A, H',
              gdpResponseHandler);

      drawSheetName('gdp', 'SELECT A, I',
              gdpAvgResponseHandler); 

      
    } //end drawAllSheets

    function drawSheetName(sheetName, query, responseHandler) {
      var queryString = encodeURIComponent(query);
      var query = new google.visualization.Query(
        'https://docs.google.com/spreadsheets/d/1xK6tccWWFn4NdxWvPde3DPRSuVIAJkewbf95FCqwVtM/gviz/tq?sheet='
        + sheetName + '&headers=1&tq=' + queryString);
      query.send(responseHandler);
    } // end drawSheetName


    function checkError(response) {
      if (response.isError()) {
        alert('Error in query: ' + response.getMessage() + ' ' +
            reponse.getDetailedMessage());
      }   
    } // end checkError


    function popDataResponseHandler(response) {
      checkError(response);

      var data = response.getDataTable();
      data.sort({column: 1, desc:true});

      var options = {
        width: 650,
        height: 600,
        colorAxis: {colors: ['#ffeda0', '#f03b20']}, //shades from color brewer
      };

      var chart = new google.visualization.GeoChart(
        document.getElementById('popData_div'));

      chart.draw(data, options);
    } // end popDataResponseHandler

    
    function popDataChartResponseHandler(response) {
      checkError(response);

      var data = response.getDataTable();
      data.sort({column: 1, desc: true});

      var options = {
        width: 650,
        height: 600,
        legend: 'none',
        hAxis: {title: 'Population Count', titleTextStyle: {color: '#2f5572'}},  //check the text color
        vAxis: {title: 'Country', titleTextStyle: {color: '#2f5572'}}, 
        bar: {groupWidth: '85%'},
        colors: ['#feb24c'],
        chartArea: {backgroundColor: 'edf3f8'}
      };

      var chart = new google.visualization.BarChart(
          document.getElementById('popDataChart_div'));
      
      chart.draw(data, options);
    } // end popDataChartResponseHandler


    function gdpResponseHandler(response) {
      checkError(response);

      var data = response.getDataTable();
      data.sort({column: 1, desc: true});

      var options = {
        width: 600,
        height: 600,
        legend: 'none',
        hAxis: {title: 'USD', titleTextStyle: {color: '#2f5572'}},
        vAxis: {title: 'Country', titleTextStyle: {color: '#2f5572'}},
        bar: {groupWidth: '85%'},
        colors: ['#feb24c'], 
        chartArea: {backgroundColor: 'edf3f8'}
      };

      var chart = new google.visualization.BarChart(
          document.getElementById('gdp_div'));
      
      chart.draw(data, options);
    } //end gdpResponseHandler


    function gdpAvgResponseHandler(response) {
      checkError(response);

      var data = response.getDataTable();
      data.sort({column: 1, desc: true});

      var options = {
        width: 600,
        height: 600,
        legend: 'none',
        hAxis: {title: 'USD', titleTextStyle: {color: '#2f5572'}},
        vAxis: {title: 'Country', titleTextStyle: {color: '#2f5572'}},
        bar: {groupWidth: '85%'},
        colors: ['#f03b20'], 
        chartArea: {backgroundColor: 'edf3f8'}
      };

      var chart = new google.visualization.BarChart(
          document.getElementById('gdpAvg_div'));
      
      chart.draw(data, options);      
    } // end gdpAvgResponseHandler      
  </script>
 <!-- end of test visualization code -->



</head>
<body>
   <div class="large-hero">   
    <!-- load images with different croppings to accomodate screen sizes -->
    <picture>
     <source srcset="assets/images/gun-violenceLarge_1920x654.jpg 1920w" media="(min-width: 1380px)">
     <source srcset="assets/images/gun-violenceMedium_1380x654.jpg 1380w" media="(min-width: 990px)">
     <source srcset="assets/images/gun-violenceSmall_990x654.jpg 990w" media="(min-width: 640px)">
     <img srcset="assets/images/gun-violenceSmaller_640x654.jpg 640w" alt="Gun Violence Art"  class="large-hero__image">
    </picture> 

      
     
    <div class="large-hero__text-content">
        <div class="wrapper">
          <h1 class="large-hero__title">DATS 6401 - Final Project - Robert Harris</h1>
          <h2 class="large-hero__subtitle">An Examination of Gun Violence in the U.S.</h2>      
        </div> <!-- end wrapper div -->
    </div> <!-- end large-hero__text-content  -->
  </div>  <!-- end large-hero -->

   
      <div class="site-header">
        <div class="wrapper">
          <nav class="primary-nav primary-nav--pull-right">
            <ul>
              <li><a href="#visualizations1">Gun Violence 1</a></li>
              <li><a href="#visualizations2">Gun Violence 2</a></li>
              <li><a href="#visualizations3">Gun Violence 3</a></li>
              <li><a href="#visualizations4">Gun Violence 4</a></li>
            </ul>
          </nav>
        </div>  <!-- end div wrapper  -->
      </div> 

      
  
  <div id="introduction home" class="page-section page-section--gray">
    <div class="wrapper">
      <h2 class="headline headline--centered headline--b-margin-small">Header here.</h2>
      <h3 class="headline headline--centered headline--red headline--small headline--narrow headline--b-margin-large">Why this project?</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, <a href="https://datasci.columbian.gwu.edu/">GWU Data Science Program</a> ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum velit esse cillum dolore eu fugiat.</p>
    </div> <!-- end div class wrapper  -->

    <div class="site-footer site-footer__chartArea">
      <div class="wrapper">
        <a href="#top" class="btn btn--visarea">Home</a>
      </div> <!-- end wrapper -->
    </div> <!-- end site footer -->
  </div>  <!-- end introduction -->





  <div id="visualizations1" class="page-section page-section--gray"> <!-- add class visualizations -->
    <!-- <div class="visualizations visualizations  header"> -->
      <!-- <div class="wrapper">
        <h2 class="headline headline--centered headline--b-margin-small">Visualization Area Title</h2>
        <h3 class="headline headline--centered headline--red headline--small headline--narrow headline--b-margin-large">Visualization Area Subtitle</h3>
        <p>Any Content that I want to provide that can take multiple lines if necessary.  In any case, this area will tell about the types of visualizations or provide context as necessary.</p>      
      </div> -->  <!-- end wrapper -->
    <!-- </div> --> <!-- end visualizations header -->

    <div class="visualizationHeading-container">
      <div class="visualizationHeading">
        <div class="title"><h2>Visualization Area Title</h2></div>
        <div class="subtitle"><h3>Visualization Area Subtitle</h3></div>
        <div class="content">
          <p>Any Content that I want to provide that can take multiple lines if necessary.  In any case, this area will tell about the types of visualizations or provide context as necessary.</p>
        </div>        
      </div> <!-- end visualizationHeading   -->  
    </div> <!-- end visualizationHeading-container -->


    <div class="visualization-container">  <!-- start flexbox -->
      <div class="visualization">
          <div class="visualizationTitles">
            <div class="visualizationTitle">Visualization 1 Title Here</div>
            <div class="visualizationTitle">Visualization 2 Title Here</div>
          </div> <!-- end visualizationTitles -->

          <div class="visualizationCharts">
            <div id="popData_div" class="chart"></div>
            <div id="popDataChart_div" class="chart"></div>
          </div> <!-- end visualizationCharts  --> 
      </div> <!-- end visualization -->
    </div>  <!-- end visualization-container -->

    <div class="#">Source: World Bank<br>Created by: Robert Harris<br>Platform: Google API</div>
    <div class="#">Source: World Bank<br>Created by: Robert Harris<br>Platform: Google API</div>



    <div class="site-footer site-footer__chartArea">
      <div class="wrapper">
        <a href="#top" class="btn btn--visarea">Home</a>
      </div> <!-- end wrapper -->
    </div> <!-- end site footer -->
      
    

  </div><!--  end sample visualizations div -->

 

  <div id="visualizations4" class="page-section page-section--gray">
    <div class="visualizations--header">
      <div class="wrapper">
        <h2 class="headline headline--centered headline--b-margin-small">Visualization Area Title</h2>
        <h3 class="headline headline--centered headline--red headline--small headline--narrow headline--b-margin-large">Visualization Area Subtitle</h3>
        <p>Any Content that I want to provide that can take multiple lines if necessary.  In any case, this area will tell about the types of visualizations or provide context as necessary.</p>        
      </div>  <!-- end wrapper -->
    </div> <!-- end visualizations header -->

      <!-- test visualization4 row -->
      <table style="width: 100%">
      <caption>Education Overview</caption>
      <tr>
        <th>Average Educational Spending of Top 10 G20 Nations (2009-2013)</th>
        <th>Total Educational Spending of Top 10 G20 Nations (2009-2013)</th>
      </tr>
      <tr>
        <td><div id="gdp_div"></div></td>
        <td><div id="gdpAvg_div"></div></td>
      </tr>
      <tr>
        <td id="postScript">Source: World Bank<br>Created by: Robert Harris<br>Platform: Google API</td>
        <td id="postScript">Source: World Bank<br>Created by: Robert Harris<br>Platform: Google API</td>  
      </tr>
    </table>
    <!-- end test visualization4 row-->
    </div> <!-- end visualizations4 wrapper -->
  </div>  <!-- end visualizations4 -->




  <footer class="site-footer">
    <div class="wrapper">
      <p><span class="site-footer__text">Copyright &copy; 2018 Robert Harris. All rights reserved.</span><a href="mailto:rtharris@gwu.edu" class="btn">Contact</a></p>
    </div> <!-- end site footer wrapper -->
  </footer>
</body>
</html>